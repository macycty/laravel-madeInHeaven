import{W as C,r as k,j as e}from"./app-83RbplMi.js";import{T as u,I as m}from"./TextInput-9tITMN6I.js";import{I as l}from"./InputLabel-XvnZPUFu.js";import{P as D}from"./PrimaryButton-WwSV7u3Z.js";import{S as M}from"./SelectInput-ZJS3L1Fb.js";import{q as R}from"./transition-_8Db7wIQ.js";const E="/build/assets/folder-Isxwbi1M.png";function O({menu:t,className:j=""}){const{data:r,setData:a,patch:v,errors:n,processing:_,recentlySuccessful:f}=C({menu_id:t.menu_id,menu_name:t.menu_name,price:t.price,menu_type_id:t.menu_type_id,menu_image:t.menu_image,ingredients:t.ingredients,menu_status:t.menu_status}),[x,w]=k.useState(t.menu_image),y=s=>{s.preventDefault(),v(route("Menu.update",t.id),{preserveScroll:!0})},I=["Available","Sold Out"],N=s=>{const h=s.target.files[0],b=h.name,g=new FileReader;g.readAsDataURL(h),g.onloadend=()=>{const i=new Image;i.src=g.result,i.onload=()=>{const c=document.createElement("canvas"),d=Math.max(i.width,i.height);c.width=d,c.height=d,c.getContext("2d").drawImage(i,(d-i.width)/2,(d-i.height)/2),c.toBlob(F=>{const S=new File([F],b,{type:"image/png",lastModified:Date.now()}),o=new FileReader;o.readAsDataURL(S),o.onloadend=()=>{const p=new Image;p.src=o.result,p.onload=()=>{w(o.result),a("menu_image",o.result)}}},"image/jpeg",.5)}}};return e.jsxs("section",{className:`space-y-6 ${j}`,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Menu Information"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"View and change any information associated with this menu"})]}),e.jsxs("form",{onSubmit:y,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"menu_id",value:"Item ID"}),e.jsx(u,{id:"menu_id",className:"mt-1 block w-full",value:r.menu_id,onChange:s=>a("menu_id",s.target.value),disabled:!0}),e.jsx(m,{message:n.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"menu_name",value:"Item Name"}),e.jsx(u,{id:"menu_name",className:"mt-1 block w-full",value:r.menu_name,onChange:s=>a("menu_name",s.target.value)}),e.jsx(m,{message:n.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"price",value:"Price"}),e.jsx(u,{id:"price",className:"mt-1 block w-full",value:r.price,onChange:s=>a("price",s.target.value)}),e.jsx(m,{message:n.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"menu_type_id",value:"Item Type"}),e.jsx(u,{id:"menu_type_id",className:"mt-1 block w-full",value:r.menu_type_id,onChange:s=>a("menu_type_id",s.target.value)}),e.jsx(m,{message:n.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"menu_image",value:"Item Image (.png file type only)"}),e.jsx("div",{children:x?e.jsx("img",{src:x,alt:"",width:"300",height:"300"}):e.jsx("img",{src:E,alt:"",width:"300",height:"300"})}),e.jsx("input",{id:"menu_image",className:"mt-1 block w-full",type:"file",onChange:N}),e.jsx(m,{message:n.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"ingredients",value:"Ingredients"}),e.jsx(u,{id:"ingredients",className:"mt-1 block w-full",value:r.ingredients,onChange:s=>a("ingredients",s.target.value)}),e.jsx(m,{message:n.status,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"menu_status",value:"Item Status"}),e.jsx(M,{id:"menu_status",className:"mt-1 block w-full",options:I,value:r.menu_status,onChange:s=>a("menu_status",s.target.value)}),e.jsx(m,{className:"mt-2",message:n.status})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(D,{disabled:_,children:"Save Changes"}),e.jsx(R,{show:f,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Saved."})})]})]})]})}export{O as default};
